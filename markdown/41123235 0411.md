---
Title: w8網誌
Date: 2024-04-11 14:02
Category: w8 41123235
Tags: 網誌編寫 41123235
Slug: w8-41123235
Author: 41123235
---

2024 Spring 網際內容管理與協同產品設計實習課程教學導引.

<!-- PELICAN_END_SUMMARY -->

# 第八週
協同產品設計實習的專案實習, 透過 ChatGPT、Gemini 1.5 Pro 與 Claude 3 的協助下進行.

協同資料處理，鋼球平衡台 PID 控制與模擬
實習步驟:

開啟可攜程式系統中的 CoppeliaSim
開啟鋼球平衡台模擬場景
啟動可攜程式系統, pip install keyboard cbor pyzmq matplotlib
在 SciTE 中執行上列程式, 確定系統穩定後, 按下 q 終止模擬
matplotlib 將畫出鋼球在平台上的 x 與 y 座標圖
工作原理：

模擬時間步長 (Simulation Time Step): CoppeliaSim 使用固定時間步長進行物理模擬. 這個時間步長決定了模擬推進和更新場景中物件的位置、速度和其他狀態的時間間隔. 實際的模擬時間步長可能因場景複雜性和硬體性能等因素而略有不同.
控制迴路時序 (Control Loop Timing): Python 程式中的控制迴路以一定的頻率運行，由 dt 值（原始程式中為 0.05 秒）决定。 這意味著控制器每 0.05 秒計算新的控制信號並向馬達發送指令.
adjusted_dt 的計算: 如果模擬運行速度慢於實時(即模擬時間步長大於 0.05 秒), 控制迴路將比模擬更新運行得更快而導致問題, 因為控制器是基於過時的球的位置資料來做出決策的. 因此, adjusted_dt 會根據實際模擬時間步長與預期時間步長（0.05 秒）的比率，對原始 dt 值進行缩放： adjusted_dt = dt * sim.getSimulationTimeStep() / 0.05
對控制迴路的影響:

如果模擬運行速度比預期的慢(模擬時間步長 > 0.05 秒), adjusted_dt 將大於原始 dt. 這將有效地減慢了控制迴路的速度, 使其與模擬更新的速度相匹配.
通過使控制迴路與模擬速度同步, 控制器更有可能接收到關於球位置的最新資料，從而做出更好的控制決策並提高穩定性.
優點：

減少時序差異： adjusted_dt 有助於減輕控制迴路和模擬之間的時間不匹配, 這可能是不同硬體配置下控制性能差異的重要來源.
提高穩定性： 通過確保控制迴路以與模擬更新一致的速度運行, 控制器可以做出更明智的決策, 可能導致更好的穩定性和控制精度.
缺點：

非理想解決方案： 雖然 adjusted_dt 可以提高一致性, 但它并不能完全消除模擬速度變化帶來的問題. 其他因素, 例如網路延遲和數值精度, 仍然會導致結果的差異.
潛在的性能影響： 減慢控制迴路的速度可能會降低系統的響應能力, 尤其是在模擬運行速度明顯慢於實時的情況下.